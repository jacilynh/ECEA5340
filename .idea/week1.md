#Week 1#

2: Common Types of Sensors and Motors

Sensors are in most electronics products these days.
They're driving a technology revolution called, "The Internet of Things."
Process sensors are used in petrochemical, pharmaceutical and semiconductor industries to measure and control the chemical reactions needed to create these important raw materials.
Position sensors are found in vehicles and aircrafts.
Motion sensors are used there as well as in smartphones and security systems.
Ergonomic sensors are found in tablets, PCs, and phones.
Chemical sensors protect us from fire and toxic vapor hazards.
And Electrical sensors are found in lab instruments and security systems.

Let's take a deeper look about how sensors are used in your smartphone.
Have you ever wondered how this phone shuts down if you leave it sitting in the sun on a hot summer day? That's because the thermistor inside this phone senses that the internal circuits may overheat soon. It sends a signal to the microprocessor to shut down this phone before it's too late.

Now, let's take a look at Google Maps. It keeps us from getting lost, doesn't it? It's that GPS sensor in our phones that enables this little app. Proximity sensors placed by the earpiece of your phone telling it when you're on a call. The phone saves battery power by turning off the screen. The gyroscope enables this compass app, and a capacitive sensor on the touchscreen senses when your finger is touching an icon. A light sensor adjusts the screen brightness here for ambient light levels. And there is a battery sensor in here to correlate the charge level in the battery to present of life left on a phone. Dozens of sensors are used in modern automobiles.

Temperature sensors monitor the combustion process in the engine, the cooling process in the radiator and your comfort level in the cabin. Pressure sensors make sure you have sufficient oil to lubricate those pistons and proper air levels in the tires to make those wheels go around and you drive safely. A flow sensor makes sure you have sufficient air intake to combust the gasoline, that's of course if it's a gasoline engine. Position sensors monitor engine throttle, crank and camshaft angles, and radar detectors are critical features of all autonomous vehicle software. Airbags know when a collision is imminent from the accelerometer inside. And dashboard touch screens, well, they have capacitive sensors too. An oxygen sensor monitors the intake to the combustion reaction in the engine. And the oxygen and hydrogen sensors are used in experimental fuel cells for battery operated cars. A battery sensor is an essential element of all cars whether gasoline or battery operated.

Four classes of actuators are used in your automobiles, production equipment, and appliances in your home.
First, hydraulic sensors, or hydraulic actuators I should say, use pressure from highly compressed oil to push large cylinders inside construction equipment such as lifts, cranes, and excavators. They're characterized by slow speed of response due to the long time it takes to compressed oil and the high gear ratios in the mechanisms that deploy them. Pneumatic actuators give a faster speed of response due to a faster compression of air versus oil. They're most commonly found in production assembly equipment. The downside is they're really noisy and small leaks in these seals lead to large losses in compression. Electrical motors convert electrical energy to rotary motion. They are directly interfaced with sensors within hardware and will be used extensively in our course. Mechanical actuators such as gears, and belts, and lead screws, either they boost up the torque or they convert the rotary motion to linear motion. Electrical actuators come in three flavors. A stepper motor has multiple coils organized in phases. Energizing the coils sequentially allows the stepper motor to rotate in very precise steps. A brushed DC motor has a coil that generates a magnetic field around that armature. One side of that armature is repelled by the north pole of a magnet located in the motor casing while the other side is attracted to the south pole of that magnet. The opposing forces cause the armature to rotate in one direction. As the armature rotates in that direction, the torque eventually goes to zero and the magnetic field of the armature attracts to the north and south poles. Reversing current to the armature causes that side to be repelled by the south pole, but attracted to the north pole and reversing current exactly on that half cycle creates your continuous rotation. The brushes in the brushed DC motors wear rapidly and must be replaced at frequent intervals. Brushless DC motors resolved this issue by using permanent magnets rotating around a fixed armature. An electronic controller switches the phase to the windings allowing rotation within the motor. You, will be integrating various motors and sensors to embedded systems throughout this specialization. As such, we should say a few words about how to get the most out of your experience. We will be taking a deep dive into the electronics technology behind sensors and actuators with emphasis on integrating them into embedded circuits. You, will have the best learning experience if you've already taken classes in circuit design analysis, microprocessor architecture, filtering and programming of embedded systems. You will certainly use your experience with digital scopes when you perform lab experiments for the courses. You will need to purchase the Cypress development kit along with associated sensors and actuators for use in our lab experiments. You'll use the development kit, the sensors and the actuators for all four courses within our specialization and hopefully for further development work that you do in this field. Make sure you do have current access to an oscilloscope such as the PicoScope model 5242A or the nScope that Jim showed before. Let's recap here. We discussed the major categories of sensors and actuators that we will feature in this specialization. Now in the next video, Jim, will give you an overview of the analog and digital interfaces that allow you to integrate sensors and actuators into embedded systems.


3: Analog and Digital Interfaces

Most things we want to measure, for example, temperature or pressure, are continuously varying. The sensor data must be converted to a digital format before it can be interpreted by a microprocessor. Applying power to a sensor so that it produces a usable output is called excitation. Analog circuitry excites filters and amplifies the raw sensor signal, a process called signal conditioning. Once processed in this way, the signal is sent to an ADC, short for analog-to-digital converter. The output of the ADC is typically 8, 12, 16, or 24 bits. Data from an ADC is usually converted to a serial format, such as I2C, SPI or RS-232. Certain sensors, humidity in particular, incorporate the analog front end on a single chip solution, producing a digital output easily connected to a microprocessor. The raw output of most sensors is easily corrupted, hence, signal conditioning circuitry is located very close to the sensor, helping to shield against external interference. Once converted, the digital signal can easily be transmitted over great distances with minimal error. It is helpful to use a microcontroller for sensor systems. This device consists of a microprocessor with a built-in analog-to-digital converter. In this course, you'll be using the Cypress PSoC series of microcontrollers. This microcontroller also contains amplifiers, multiplexers, comparators, timers, counters, and shift registers. It minimizes the number of discrete components between the sensor and the microcontroller. It is a hardware programmable part. You design electronic circuits implemented as real hardware inside the PSoC chip. The hardware then interacts with the code you write in a seamless manner. The design environment for this part is called PSoC creator, and includes schematic capture in addition to a code editor. In addition, a handful of inexpensive sensors and actuators will be made available for you to purchase for this course, and future ones that are part of the specializations. Normally, you would need an expensive bench-top digital oscilloscope to take sensor readings, such as this one from Agilent. You may use this type of scope if you have access to one at work or school. However, for this class, you may also purchase a much lower cost oscilloscope, that you can connect to your laptop PC. We give you some suggestions of devices to purchase in the course syllabus. We hope you share our enthusiasm for building things. It's the best way to learn.

4: Temperature Sensors and Applications


Hi there. It's me J again. Let's discuss thermal sensors. Hey you you're falling asleep in my class? Don't fall asleep in my class. Nobody falls asleep in my class.

There's four major types of thermal sensors, of which all but infrared sensors are commonly used in embedded systems. A thermal couple consists of two wires of dissimilar metals joined at the heated end road junction and connected to circuitry at the other end. The voltage read by the circuitry is proportional to the temperature at the heated junction. Thermal couples can measure temperatures up to 1800°C. As such, they are very popular for metal and semiconductor fabrication. A resistance temperature detector or RTD for short, works under the simple principle that the resistance of metal increases as the temperature increases. And for platon, the most common metal used in RTDs, the relationship is nearly linear. Rtds can measure temperature up to 800°C. There are more precise and more stable than thermal couples. And as such they popular in the pharmaceutical and biotechnology industries, where processes must pass strict audits for accuracy and repeatability.

A thermistor is made of centered semiconductor or metal oxide particles. NTC thermistors exhibit a large decrease in electrical resistance for a relatively small increase in temperature. And even with the severe nonlinear charity, they are very accurate. Their small package size makes them ideal for measuring temperature in phones and computers.

An infrared sensor is the only non contact temperature sensor. As such it's excellent for measuring very high temperatures safely from afar. They are commonly used to measure temperatures in hostile environments. For example, firefighters use them to know if flames are burning behind a wall in a burning building. An infrared sensor calculates the surface temperature of an object from that objects emitted infrared energy.

Infrared sensors are normally packaged inside a handheld thermometer and not integrated directly into embedded systems. For that reason, we won't be exploring these sensors in depth in this course. The technology used in thermal sensors determines its suitability for applications.

Each of the four types of thermal sensors has its limiting aspects. Thermal couples have the highest measurement range of any thermal sensors. If you need to measure temperatures at 1800°C, you have no choice but to use them. However, there are also subject to drifting over time as their metallurgy properties change with large numbers of thermal cycles. They need to be recalibrated yearly.

So if you have an application that doesn't need to measure such extreme temperatures, you might want to choose RTDs or thermistors.

RTDs have excellent accuracy and linearity. They're stable over many years and there's new need for annual re calibrations. However, you need to provide an accurate current source for RTDs. You can measure temperatures only up to 800°C and you also need to use either a three or 4 wires reach RTD circuit in order to null out the effects of lead length on the resistance measurement. And more about that detail when we get to the videos about RTDs.

So if you're embedded system can't handle those details and you really don't need such high accuracy, try another way to measure temperature.

Thermistors have similar attributes to RTDs, they're accurate, they're stable and they're really easy to package but they have messier limitations. They measure only up to 200°C and their high degree of nonlinear charity requires a boatload of programming in your embedded system to handle. So if you don't have extreme space limitations and you're not into firmware, RTDs might actually be better for you.

Infrared sensors can accurately measure extremely high surface temperatures of objects, but they have issues too. You need to know the emissivity of the surface accurately to get an accurate surface temperature. And when you point that infrared thermometer at that surface, you need to know that the surface you want to measure is fully contained within the field of view of the infrared lens. And that's not an obvious thing to determine if you're very far from an object.

Furthermore, what if you want to measure the temperature inside an object? That rules out infrared sensors completely. Let's recap, we discuss the four major types of thermal sensors describing their attributes, their limitations and reasons to select one over another in applications. In the next video, we'll take a deeper look at the technical specifications of thermistors.

5: Thermistors: Basic Facts

Let's go over some fun facts about Thermistors. Being a semiconductor, the exact nonlinear curve or temperature versus resistance is highly material dependent. You will see this in the formulation of the nonlinear equations. Most thermistors in use are NTC, which stands for Negative Temperature Coefficient. Their resistance decreases drastically as temperature increases. The base resistance of a thermistor is its resistance at 25 degrees Celsius. The most common base resistances are 2,252 Ohms and 10,000 Ohms. These are used in the narrow band applications for smartphones and computers essentially between minus 50 degrees C and plus 70 degrees C. With good calibration, you can get thermistor accuracies of 0.1 degrees C to 0.2 degrees C. Thermistors are packaged in glass or epoxy, which limits their upper temperature range. You can measure up to 200 degrees Celsius with a thermistor but you need to use higher base resistances such as 30,000 Ohms or 50,000 Ohms to get the accuracy you need. Thermistors have a wide usage and applications where small pocket size and narrow temperature range intersect. They're commonly used for overheating protection in smartphones, PCs, and laptops. The contrast of LCDs naturally fades at the upper end of the temperature range. And a thermistor measures the internal temperature of an LCD and it's used to compensate the contrast signal for this effect. Once upon a time, thermostats used by metallic strips as their temperature elements. But these days, thermostats used thermistors too. My favorite application for thermistors is to integrate them into lithium batteries. And with all the worries about lithium batteries overheating on airplanes, internal temperature measurement within a battery has become standard. So standard that you can buy lithium batteries with a pre-installed thermistor on eBay. This one goes for $11.90. Thermistors are packaged in mechanical and electronic forms. You can buy them in the form of an IC, like the MCP9700. You can buy them packaged in the metal probe, similar to how you would buy a thermocouple. The 10kOhm probe is designed for a fluid immersion application. And the 44008RC thermistor is a through hole part, ready for assembly to a board. Let's recap. We discuss the accuracy, the range, and typical applications for thermistors. Now let's review the core technology, and calibration equations that govern thermistors as well as how to integrate them into embedded systems.

6: Thermistors: How They Work

Now, it's time for a theory lesson on Thermistors. Shown here in this graph is the resistance versus temperature curve for a typical NTC thermistor. The base resistance is 10,000 ohms at 25 °C, and the resistance drops by a stunning four orders of magnitude when the temperature increases by only 100 °C. The Steinhart Hart Equation models with the highly non-linear behavior of thermistors. These guys were geophysicists who published their research findings for thermistors back in 1968. And when you're the first guys to publish an equation or a physical constant, they usually get named after you. The logarithmic turns in the equation and the inverse relation of the terms to temperature do two things. They explain the large fall off in resistance over a narrow temperature range, and they make for a very smooth shaped curve. Note that the temperature must be calculated in degrees Kelvin and there are three proportionality constants to keep track of. Yuck. I like this form of the Steinhart Hart Equation much better if you can like equations that is. First, you make the substitutions for constants b0, b1, and b3 as shown here in the slide. Then you are left with an equation for temperature that depends on any two points are in T and only one material constant beta. The equation is easier to program and firmware, it measure the resistance of the thermistor and then you solve for temperature. I found this thermistor online in the form of a through hole resistor. Actually, it looks more like a matchstick than anything else but you get the idea. It has the typical accuracy of 0.1 °C to 0.2 °C seems a bit slow at 10 second response time in air and it has Monis power dissipation of only 30 Milli Watts. My application is around room temperature so I pick the 10,000 ohm based resistance. Beta is 3,890 °K and there is one other nicety on the web site. I can download the data for resistance vs temperature, and the data is in the form of an Excel spreadsheet. Now, that's pretty slack. I can use the data to implement a table lookup routine and firmware. No need to do any calculations of a logarithmic form. I still need a way to measure the resistance of the thermistor. However, this simple voltage divider circuit can do that. However, it won't be accurate unless the voltage source and the fixed resistor are also accurate. Alternatively, you could measure v with the same analog to digital converter used to measure the thermistor voltage. And you could buy a precision fixed resistor and use that as a reference. It's best at first to calculate the accuracy you really need and it what cost. Let's look at the accuracy of the voltage source. The standard piece sock reference voltage source has an accuracy of 0.5%. You could use a precision shunt reference from Texas Instruments that has 0.2% Accuracy. However, that will add 96 cents to the production cost of your system. You'll save money if you come up with a circuit diagram shown here and purchase a precision resistor for only 5 cents. The VDAC in your PSAC kit provides a fixed voltage that can be turned on and off at will. The Opamp provides extra current drive capability that the VDAC does not. The data sheet says the output resistance can be as high as 16,000 ohms. Unfortunately, the VDAC voltage accuracy is poor. The datasheet says it's a gain era that can be as high as 5%. So to reduce that era, we employ a 0.25% accurate 10K ohm resistor from Stackpole electronics that cost just 5 cents. Then we measure the current across the resistor and the accuracy of the measurement depends mostly on the resistor accuracy. So, what about firmware for your embedded system? You need to write code to set up the ADC. You have to sequence the inputs, and calculate actual current and temperature. The equations for temperature are highly non-linear logarithmic as we have discussed. So, that could tax the processor. You can use table lookup methods if you can download an Excel table from the website of the thermistor manufacturer. And if you do this, make sure you have enough onboard memory to store all that data. Let's recap. We discuss the core technology and calibration equations that govern thermistor. Now, let's discuss the accuracy range in typical applications for our RTDs in the next video.

7: RTDs: Basic Facts

Okay, show of hands, how many people know that RTD stands for resistance temperature detector?

I don't see too many.

You should know it because I did use it in a previous video. Well, you know it now, RTD, resistance temperature detector. The first RTDs consisted of coils of platinum wire wound around a ceramic core or a glass tube.

And in order to protect the wires from damage, a glass, ceramic, or a metal sheath would cover these fragile linings.

Today, thin film RTDs are made by depositing thin, parallel layers of platinum onto a ceramic substrate. The length of the pattern determines the exact resistance that is needed for the sensor. Ever notice how many fun facts involve a lot of numbers? No difference with RTDs. They typical temperature range is -200 degrees C to 800 degrees C.

The European standard, DIN or IEC 60751, specifies a resistence of 100 ohms at 0 degrees C and a temperature coefficient of resistance of 0.00385 ohms per ohm degree C between 0 and 100 degrees C. Now, memorize that.

Okay, relax. All it really means is you're supposed to get a perfectly straight line for your plot of temperature versus resistance.

There are two types of specs for tolerances, Class A and Class B, both of which involve the equations shown in the slide, that depend on temperature.

It's a lot easier to remember them as Class A is the one with the 0.06 ohms of tolerance at 0 degrees C. And class B has double that, or 0.12 ohms of tolerance at 0 degrees C.

This chart looks more like a schematic for a roller coaster ride than a graph of sensor resistance versus temperature. We discussed the NTC thermistor in the last video. The lessused PTC, or positive temperature coefficient thermistor, is the one with a positive but a curved slope upwards.

The RTD looks like a plain old straight line with a positive slope. In reality, though, the curve is very linear but not perfectly linear. You need to calibrate an RTD sensor if you want it to be perfectly linear. RTDs get used wherever a high-accuracy temperature measurement is needed, as long as the data is somewhere within the range of -200 degrees C to plus 800 degrees C. They're popular in applications where people want to install the sensor, take the data, and not have to, or in the case of the space shuttle, not be able to access the sensor ever again.

The excellent repeatability of RTDs appeals to the pharmaceutical industry.

Measuring temperature in a gas or an air stream is another popular application. In that case, you will want the bare RTD element exposed to the gas in order to minimize the speed of response of the sensor.

A hot wire anemometer is an RTD run in reverse.

And now it's time to show you what commercial RTDs look like. You can buy them as a surface mount 0603 chip, just like this RTD from Vishay. And you can buy them as a sensor on a surface probe, and bolt them to the object whose temperature you want to measure.

This stainless steel probe is designed to screw into a thread hole in a tank or a furnace. And the pharmaceutical industry likes the sanitary sensors. They look like an explosion-proof head, but they're combined with the clean construction required for good manufacturing procedures.

Let's recap.

We discussed the accuracy, range, and typical applications for RTDs. Now we're going to use circuit diagrams to explain the core technology behind them, as well as how to linearize them, how to buy them, and how to integrate RTDs into a circuit.

8: RTDs: How They Work

This theory lesson on RTDs will involve lots of circuit diagrams. Sorry about them. Shown on the right side of this slide is a simple circuit for measuring resistance but there's a flaw in this circuit that dooms it to a grizzly failure. You need a lead wire to attach the RTD to imbedded circuit and that lead wire has a resistance that's not accounted for in the specs. Oops, let's do the math. The RTD sensor has a 100 ohm resistance at zero degrees C. The slope of the calibration curve is 0.385 ohms per degree C. Typical lead wire resistance is somewhere between one and 10 ohms. Will be conservatives, will just use one ohm. The problem is that even adding one ohm to the circuit resistance throws off your temperature reading. Simply divide the one ohm by the slope of 0.385 ohms per degree C, and you just added a fictional 2.6 degrees C to your temperature reading. One in doubt? Construct a Wheatstone bridge. Let's try it here. Shown in the upper right corner of the slide is our first attempt. The three fixed resistors in the bridge have a much smaller TCR or thermal coefficient of resistance than the platinum RTD but still not zero. Unfortunately, putting them next to the RTD means that the resistors will see this same up and down temperature excursion as the RTD, and so there was no longer be fixed resistors. I got it. Now, let's add long lengths of wiring to the three fixed resistors and mount them remotely at a stable temperature. But now we are going around in circles. By adding lead length, we have recreated the problem we had in the last slide. Stay tuned vokes. When in doubt, stick to your Wheatstone bridge but use only three wires. Let's try it here. Shown in the right side of the slide is our next attempt. Makes sure that lead wires A and B are of equal length, and the same type of metallurgy. Because wires A and B are on opposite sides of the Wheatstone bridge, their resistances cancel. Lead wires C is dead ended so it carries no current. But now we just lost our linear relationship between temperature and resistance. Stay tuned. When in doubt, keep grinding through the calculations. Let's try it here. Shown in the top of the slide is our Wheatstone bridge with resistance values assigned. We set R_1 equals R_2 so that they conveniently dropped out of the calculations. Also, if the RTD element is located some distance from the bridge in a three wire configuration, the equal and fixed lead wire resistances R_a and R_b will be buried inside the total resistance R for the RTD and R_3 respectfully. Let's keep it simple at first and assume these resistances are very small and assumed zero. By applying the equation for the voltages in a Wheatstone bridge to our situation, we get that V_0 equals V times R_3 over R_3 plus R minus V over 2. Then we can solve for R. The resistance of RRTD as R equals R_3 times 1 over v_0 over v plus a half minus 1.

Almost done but not quite. When in doubt, assume resistances are zero but go back and add them in at the end. Shown in the top of the slide is our trusty Wheatstone bridge, but this time with equal but non-zero values for R_a and R_b. Now, we substitute the sum of R plus R_a for R and R_3 plus R_a for R_3. We get a clean equation this time for R. Now R equals R_3 plus R_a times 1 over v naught over v plus 1.5 minus 1 minus R_a. We seem done, right? Not quite. We're only done if R_a is known and constant for all installations. In real instrument panels, technicians use all lead wire length whatever is needed to get the system wired. So your perfect calculation of R will be thrown off slightly, and if you need the best accuracy and RTD system has to offer, you should purchase a four wire RTD. Calculations in this case are left to the reader. Sorry. When in doubt, assume linearity. But in reality, RTDs are not perfectly linear. Here's a plot of temperature error for assumed linearity versus temperature for the full temperature range of the RTD. You have negative errors below roughly 200 degrees C and positive error is above that reading. We need a way to straighten out the mess so to speak. When in doubt, postulate a set of polynomial curves. Here's some real life polynomial curves that can straightened out the mess. In order to linearize the RTD, we have to calibrate it to a fixed and more accurate temperature source at several points along the curve. For temperatures below zero degrees C, we use this third order polynomial and we must calibrate the RTD at three points to obtain values for the constants A, B and C. For temperatures above zero degrees C, we use this second-order polynomial and we must calibrate the RTD at two points to obtain values for the constants A and B. Now that we've put all our doubts to arrest, it's time to go shopping online for an RTD. This is the vishay IEC we showed briefly in the previous video. It needs the specs of IEC 60751, and it gets to 90 percent of its final temperature reading within two seconds if you put it in the air stream it is measuring. Of course, I'm not sure how you do that when the chips going to be mounted on a board. So hence in reality, I'm sure that chip is going to be slower than what's shown in the spec sheet. Let's select the PTS 0603 chip we showed before. It has a resistance of a 100 ohms at zero degrees C. The TRC or the temperature coefficient is 0.385 ohms per degree C shown here in the spec sheet as 3,850 parts per million per degrees K. It has a temperature operating range of minus 55C-155C. It's narrower than max for an RTD but it's still more enough for the board where I'll mount the chip. Note also, the tiny amount of long-term drift quantified under the long-term drip stability. Oh, wait a minute. What does other IECs doing with their resistances other than a 100 ohm? Here's PTS 0805 coming in with a 100 ohms and 500 ohms of resistance, and PTS 1206 comes in with a 1,000 ohms resistance. I thought you said that then IEC 60751 specifies a resistance of exactly a 100 ohms. Yeah, but here's that deal. Who says that all sensor manufacturers follow one standard? In the sensor industry, people also sell 500 ohms and 1000 ohms RTDs. Recall our assumption four slides back that the lead wire resistance in at three wire RTD had to be small enough that they wouldn't affect accuracy too much. Well, if you jack up the nominal RTD resistance from a 100 ohms to 500 ohms, or even 1,000 ohms, your lead wire resistances are comparatively even smaller. Therefore, your system accuracy for an RTD with three wires and either 500 ohms 1,000 ohms improves accordingly relative to this system with a 100 ohms. Let's recap. We discussed the core technology and the calibration equations that govern RTDs. Now, let's discuss the accuracy range and typical applications for thermocouples.

9: Thermocouples: Basic Facts

Thermocouple is a long word. So, to save space on my slides, I use the abbreviation T/C. Remember that one. A thermocouple consists of two wires of dissimilar metals joined at the heated end or junction as it's called, and connected to circuitry on the other end. The voltage read at the heated junction is proportional to the temperature at that end and the choice of the two metals. A guy named Thomas Seebeck discovered this phenomenon back in 1821. And of course it got named after him. We call it the Seebeck effects. And you thought we named constants or laws of physics only after 19th century guys named Ohm, Volta, Ampere, Kirchhoff, and Coulomb. Nope, this one is named after Thomas Seebeck. Bare thermocouple wires range in diameter from 0.1 to three millimeters. The smaller ones are very fragile, but they'll give you a fast response time when heated. Unless you need response times well under one second, you will want to buy a thermocouple protected inside a metal sheath possibly with ceramic insulation between the wires. Otherwise, it won't last very long when you use it to measure temperatures over a 1000 degrees C. And now it's time for thermocouple fun facts. The measurable temperature range varies greatly by which alloy pairs you pick. One pair of obscure alloys, known as a Type C thermocouple, will accurately measure temperature up to 2300 degrees Celsius as long as you use a titanium sheath to protect it. The United States National Institute of Standards, which we call NIST for short, publishes a ghoulishly long standard called ITS-90. It lists the thermal electric voltage for every pair of thermocouple alloys at intervals of one degree C. You can download it for free, and use it to create table look up software for measuring temperature with thermocouples.

https://srdata.nist.gov/its90/main/
https://srdata.nist.gov/its90/download/download.html


Alloy pairs are given letters of the English alphabet types J, K, T and so on. I have no clue why those letters were used, as they don't correlate to the names of the alloys or the metals inside them. Type K is the most popular one in use because of its broad temperature range and its low cost. Typical accuracy is 1% of reading. To do better than this, you'd have to ask your supplier to individually calibrate each thermocouple probe they sell you. Here's a slide summarizing the thermocouple alloy pairs. Some of the materials are pure metals like iron and copper. Most are obscure alloys with names like chromel and constantan. Only a few companies in the world make these alloys which of course is why I call them obscure. Types K and T allow you to measure very cold temperatures found on the outer planets. Type C is good for jet engines. And the nominal voltage sensitivity is just that, it's nominal. You need to get the actual thermal electric voltages off the ITS-90 table. Here's some thermocouple voltage curves for types J, K and S. Thermoelectric voltage versus temperature curves are non-linear. And you get small negative readings at the very cold temperatures. You can assume linearity for small changes in temperature by using the slope B of the non-linear curve at the local temperatures. And if you do this, though, make sure you do your calculations in degrees K or you're going to get into trouble with signs for temperatures below zero degrees C. Here's an excerpt from the table ITS-90, the thermoelectric voltage table. In this case it shows Type T voltage data. You read the temperature on the left column in 10 degrees C intervals, then you read across the top row to find your reading to the nearest one degree. You intersect the row and the column and you find the thermoelectric reading in millivolts. For example, to find the thermoelectric voltage for 364 degrees C, you first find the row corresponding to 360 degrees C, and then the column corresponding to 4 degrees C. And at the intersection of those rows and columns, you read 18.665 millivolts for the thermoelectric voltage. Thermocouples get used mostly for low cost contact temperature measurements above 800 degrees C. And as such, you find heavy usage in the aerospace, the heat treating and the metal forming industries where people have no choice but to use thermocouples. Sometimes people use them for their lower costs than RTDs as long as they don't mind recalibrating or replacing the thermocouples annually. Some applications, like automotive or aerospace engine test stands, require hundreds of measurement points. And then cost competitiveness of the temperature sensor becomes a bigger factor in a user's decision making of which temperature sensor to use. Injection molding machines are a popular application for thermocouples. They're used to monitor the melt temperature of the plastic as it's injected into the mold cavities. The temperature shows up as a control signal on the monitor of this molding machine. I showed you what commercial RTDs look like. So, of course, I have to show you what thermocouple probes look like. You can buy them as a straight probe with a connector on the end like this one on the left from Automation Direct. The penetration probe in the middle of the slide from Thermal Works is commonly used to measure the temperature of cooked meat in a commercial kitchen. The flexible cable on the end gives more flexibility to move around when using it. The probe on the right from Pyromation is designed to screw into a threaded hole in a furnace. The loose wires on the right would extend outside the furnace to be screwed into a thermocouple connector. Let's recap. We discussed the accuracy, the range and the applications for thermocouples. Now we're going to use more circuit diagrams to explain the principle of cold junction compensation, and a bit about how to purchase thermocouples.

10: Thermocouples: How They Work

The feedback I got was that you guys said you love those circuit diagrams for our TD's. Okay, well, here's some more for thermocouples. Let's start by trying to measure the thermoelectric voltage of a tight T thermocouple. Should be simple, right?

We would like to read V1, the thermoelectric voltage produced by heating junction, J1. The intersection of a stretch of a copper and constant wire.

We connected the copper and constants, and leads to the copper thermals of our voltmeter and, oops, we created another junction of dissimilar metals where the constant and lead meets the copper terminal at junction J2. So what, you say? Well, here's what. You just introduced a back-EMF thermoelectric voltage to V1 on the Constantan wire, and you can no longer correctly read V1.

No, you say. You have reintroduced doubt, just when we thought all the doubts were cleared up with the RTDs.

I'll take care of you. Let's add a copper lead wire at junction J2 in the picture. This way at least we'll have standard copper to copper connections at the voltmeter. To calculate a thermal electric voltage V1 at junction J1, we must first know the temperature at junction J2. Now, 50 years ago people really did this by putting the leads of dissimilar metals at junction J2 in a bucket of ice water. This forced the temperature at J2 to exactly 0 degrees C. And the term ice point reference was born.

You can assume quasi linearity of the thermal couple curve, and select the local slope b, by Kirchhoff's Law, yeah, that guy. The voltage V at the volt meter is equal to V1-V2. Let's use the linear approximation technique we mentioned early, and switch to zero degrees to 273 degrees K.

V equals little b times the temperate at junction 1, plus 273 degrees K, minus the temperature at junction 2, plus 273 degrees C. And doing this subtraction, you would get V=b x temperature at junction one. So 50 years ago, people would read the voltage at the voltmeter, divide by little b, the local slope of the thermoelectric curve. They get an estimate for temperature. But we're in the 21st century and it's no longer 50 years ago. And yeah, lugging around ice baths, that's a real drag and they're really heavy, too. Sorry, doubt is back again. Well, here's another circuit diagram for you. This one will work for any time of thermocouple and not just type t, which has that one copper lead. We'll illustrate it using a type k thermocouple.

Let's insert an isothermal metal block into the system, isothermal meaning constant temperature. This block creates a junction of dissimilar metals. Junction J3, where the copper wire meets the chromel wire, and I've abbreviated chromel with the CH.

Let's substitute a iso-thermal metal block at junction J2 with the ice bath that we had before.

In addition, we'll string some chromel wire in between these two isothermal blocks.

This gives us two more junctions of dissimilar metals, junction J4, where copper wire meets chromel wire and junction J2 where chromel wire meets alumel wire. Abbreviated with the letters AL.

J3 and J4 are sitting together on an isothermal block. These two copper-to-chrome L junctions introduce equal and opposite thermoelectric voltages into the loop.

And that means they cancel out.

So now the voltage V is given by V1 minus V2, which is equal to little b times T1 minus T2.

Of course, now we got one equation and two unknowns, which we can't solve, but we'll deal with that in the next slide.

This is the part where we combine the two isothermal blocks into one big one.

Have you ever heard of the empirically derived law of intermediate metals?

I didn't think so. Well, guess what? Before I started thermal couples, I never heard of it either. But anyway, this law of intermediate metal says that when you insert a third metal between the two other dissimilar metals at an isothermal block, that your thermoelectric block won't change.

So let's apply this to our big isothermal block.

What this means is we can ignore the chromel connector wire between junctions J2 and J4, and the system will function the same as if that alumel wire on the right was connected directly to the copper wire.

Note that the equation V equal to V1 minus V2 still applies, as we haven't introduced any new thermoelectric voltages. This slide shows our simplified system. Now, we are going to perform a process step known as a cold junction compensation, or CJC for short. We originally substituted our isothermal block of unknown temperature for the ice bath which had a known temperature of 0 degrees C. Now, we need a way to measure the block temperature without using a thermocouple. We could use either a thermistor or an RTD to do this. We prefer a thermistor because it can be packaged into a small space. And our isothermal block will always have a temperature within the thermistor range. We then take the measured block temperature and find its equivalent thermoelectric voltage for a type K thermocouple. This is voltage V2. Next up, we use our voltmeter to measure V. We then calculate V1 = V + V2. Now that we know V1, we use our thermocouple look up tables to finally get T1, our goal all along. Cold junction compensation is implemented in every process instrument with thermocouple input. Here's one real world example of how this is done. The GRAPHTEC model 840 data logger has a terminal block at the top. Users connect thermocouple wiring from external thermocouple probes to this block.

The terminal block implements the isothermal terminal block shown in the previous slide. The temperature, T2, of the block roughly corresponds to the ambient temperature where the data logger is located. But a thermistor inside that terminal block measures the exact block temperature. Let's find the thermocouple probe online.

This straight probe from Automation Direct has a pipe log on it for screwing it directly into the wall of a furnace or an oven. You can buy it as a type J or K calibration with a quarter-inch that's 6.3 millimeter outer metal sheet, made of either 316 stainless steel or Inconel. Both of those sheet materials do stand up very well to the corrosive environment of a furnace. The magnesium oxide internal insulation in the probe protects the tiny thermocouple wires from damage during the extreme and cooling cycles that the probe undergoes. The ungrounded junction means that the thermocouple wires are not electrically connected to the probe sheath. American standards testing material spec 230, that's ASTM spec 230 governs the accuracy of thermocouple sensors, which is nominally 0.7% of reading, but at least 2.2 degrees C. This means, that at temperatures lower than 293 degrees C, you will always have an error in your reading up to 2.2 degrees C. And above 293 degrees C, your arrow will be up to that 0.75% of whatever temperature you're actually measuring.

If you need to fit the probe into a tight location, you can bend it at a right angle without damaging those internal wires. But you need to make sure that you supply at least the half inch bend radius, that's a 12 millimeter bend radius. The spec mentions a minimum installation depth of 3 inches which is 76 millimeters. This means that you must have the probe inserted at least three inches, or the 76 millimeters into the furnace, or oven in order to get an accurate reading. Otherwise, the thermal mass of the probe outside of the furnace will be enough to conduct away the internal heat within the probe tip, which gives you an incorrectly low reading.

You select the part number to order based on the mechanical specs you need.

The probe comes in three standard lengths. Type J probe can only measure up to 720 degrees C. This is a little lower than the 760 degree C shown on the ITS90 spec. Some manufacturers will quote a lower maximum temperature for thermocouple if they think they can't hold the full accuracy spec throughout the range. The Type K probe will work reliably up to the upper range of its calibration In this case, 1,249 degrees C, but only if you specify the inconel material with a probe sheath. The 316 stainless steel prove sheath would corrode at this temperature and ruin the thermocouple inside. Let's recap.

We discussed the principle of cold junction compensation and how to specify thermocouples for use in your embedded circuit. And that wraps up this week's module on thermo sensors.

Week 1 Online Articles

Handbook of Modern Sensors by Jacob Fraden, Fifth Edition. Springer Scence+Business Media, LLC ISBN 978-3-319-19302-1 for hardcover book. ISBN 978-3-319-19303-8 for ebook. Purchase textbook from this web site:
www.springer.com/us/book/9783319193021

Note: The above book is strongly encouraged, but not required for our Coursera Specialization. However, CU Master's degree students are required to obtain this book for this class.

Pages to read for this module:
Chapter 4, pages 96-103 4.5 Resistance and 123-127 4.9 Thermoelectric Effects
Chapter 6 pages 212-219 6.2.2 Differential Circuits - 6.3.0 Excitation Circuits Introduction
Chapter 17 pages 585-634 17.0 Temperature Sensors - 17.8 Thermoelectric Sensors

Practical Design Techniques for Sensor Signal Conditioning Section 7, pages 7.1 to 7.29 (download from Analog Devices web site via this link):
http://www.analog.com/en/education/education-library/practical-design-techniques-sensor-signal-conditioning.html

Precision Temperature-Sensing With RTD Circuits Microchip Application Note AN687. Download from web site via this link:
http://ww1.microchip.com/downloads/en/AppNotes/00687c.pdf

Download Thermocouple Tables. Calibration data from National Institute of Standards (NIST) Download from web site via this link:
https://srdata.nist.gov/its90/download/download.html

•        HVAC Sensors Design Guide by Minco Solutions, Download from web site via this link: https://www.minco.com/wp-content/uploads/Minco-HVAC-Design-Guide-2019.pdf

Week 1 Videos
Thermistor for measuring/controlling temperature by RimstarOrg. View from Youtube web site via this link:
https://www.youtube.com/watch?v=9opuvLXAetI

Temperature measurement with Resistance Temperature Detectors (RTD) by Endress+Hauser, View from Youtube web site via this link:
https://www.youtube.com/watch?v=yQvRqtozC6g

Thermocouple Tutorial by ControlEngTV. View from Youtube web site via this link:
https://www.youtube.com/watch?v=AubXDi6AD2M